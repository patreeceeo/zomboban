<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <base href="/game">
    <title>Game Demo</title>
    <script type="module" src="/src/client.ts"></script>
    <link rel="stylesheet" href="/src/missing.min.css">
    <link rel="stylesheet" href="/src/style.css" />
  </head>
  <body>
    <noscript><h1>Sorry, but JavaScript must be <a href="https://www.wikihow.com/Enable-JavaScript">enabled</a> to play.</h1></noscript>
    <div id="devtoolsElement" hx-get="/devtools" hx-trigger="get"></div>
    <div class="canvasShrinkwrap">
      <canvas id="canvas" class="display:block width:100% height:100%"></canvas>
      <div id="uiRootElement" class="absolute top z-index:2 width:100% height:100%">
      </div>
      <div id="logElement" class="absolute top z-index:2 height:100% overflow:auto">
      </div>
      <form class="top right absolute z-index:1" id="devVarsForm">
        <label class="display:block">
          <input id="timeScaleInput" type="number" step="0.1" value="1" min="0.1" max="10"> time scale
        </label>
        <label class="display:block">
          <input id="moveTimeInput" type="number" step="1" value="200" min="1" max="2000"> move time (ms)
        </label>
        <label class="display:block">
          <input id="turnTimeInput" type="number" step="1" value="30" min="1" max="2000"> turn time (ms)
        </label>
      </form>
      <div id="winMessageElement" class="absolute width:100% height:100% display:none f-col justify-content:center align-items:center z-index:1 ponter-events:none">
        <h1 class="text-align:center">You sly devil, you!</h1>
        <h2 class="text-align:center">Press Shift+R to restart</h1>
      </div>
      <div id="undoFeedbackElement" class="absolute top width:100% height:100% display:none f-col justify-content:center align-items:center z-index:1 ponter-events:none">
        <h1>Undoing&hellip;</h1>
        <img src="/assets/images/time-travel.gif" style="height: 6em;">
      </div>
      <section class="bottom right absolute z-index:2">
        <a href="#pauseMenu"><img style="height: 3em;" src="/assets/images/questionmark.png"></a>
        <div id="timeControlButtons" class="display:none"><button id="rewindButton">rewind</button><button id="pauseButton">pause</button><button id="playButton">play</button></div>
      </section>
      <h1 id="showCurrentInputElement" class="absolute width:100% z-index:1 ponter-events:none text-align:center" style="top: calc(50% - 4em)">
      </h1>
    </div>

    <div class="fixed top z-index:3 width:100%" id="flashesElement"></div>
    <dialog id="requestIndicatorElement" class="text-align:center">
      <img class="width:100%" src="/assets/images/rotating-cube.gif"/>
      <h1><span class="message">working</span>&hellip;</h1>
    </dialog>
    <dialog id="signInElement">
      <!-- TODO use a request indicator -->
      <h1>Sign in</h1>
      <form class="table rows" action="login/password" method="post" hx-boost="true" hx-target="#flashesElement" hx-push-url="false" hx-on="htmx:responseError" hx-swap="afterbegin">
        <p>
          <label for="username">Username</label>
          <input id="username" name="username" type="text" autocomplete="username" required autofocus>
        </p>
        <p>
          <label for="current-password">Password</label>
          <input id="current-password" name="password" type="password" autocomplete="current-password" required>
        </p>
        <fieldset>
          <p class="tool-bar">
            <input type="button" name="cancel" value="Cancel" />
            <input type="submit" value="Sign in" />
          </p>
        </fieldset>
      </form>
    </dialog>
  </body>
</html>
